{% extends 'base.html' %} {% block title %}Lista de Serviços{% endblock %} {%
block content %}
<style>
  .tasks-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    width: 90%;
    max-width: 1200px;
    margin: 20px auto 40px;
  }

  .task-card {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    padding: 20px;
    text-align: left;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .task-card h2 {
    margin: 0 0 8px 0;
  }
  .task-card p {
    margin: 0 0 8px 0;
    color: #555;
  }
  .links {
    text-align: center;
    margin: 20px 0;
  }
  .links a {
    margin: 0 10px;
  }
</style>

<h1 style="text-align: center; margin-top: 20px">Serviços Pendentes</h1>

<div class="links">
  <a href="{{ url_for('home.homepage') }}">Voltar para a página principal</a>
  <a href="{{ url_for('home.list_done_tasks') }}">Ver Serviços Concluídos</a>
  <a href="{{ url_for('home.calendar') }}">Ver Calendário</a>
</div>

<div class="tasks-container">
  {% for task in tasks %}
  <div class="task-card">
    <h2>{{ task.title }}</h2>
    <p>{{ task.client }}</p>
    <p>{{ task.description }}</p>
    {% if task.date %}
    <em>Data: {{ task.date.strftime('%d/%m/%Y') }}</em>
    {% else %}
    <em>Data: Não especificada</em>
    {% endif %}
    <br />

    <strong>Status:</strong> {{ task.status }}
    <div class="buttons" style="margin-top: 12px; display: flex; gap: 8px">
      <a href="{{ url_for('home.edit_task', id=task.id) }}"
        >Editar / Mudar Status</a
      >

      <a
        href="{{ url_for('home.delete_task', id=task.id) }}"
        onclick="return confirm('Tem certeza que deseja excluir este serviço?')"
        style="
          background: #dc3545;
          color: #fff;
          padding: 8px 10px;
          border-radius: 4px;
          text-decoration: none;
        "
        >Excluir</a
      >
    </div>
  </div>
  {% else %}
  <p style="text-align: center">Nenhum serviço pendente encontrado.</p>
  {% endfor %}
</div>

{% endblock %}

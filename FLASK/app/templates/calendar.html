{% extends 'base.html' %} {% block title %}Calend√°rio de Tarefas{% endblock %}
{% block content %}
<!-- FullCalendar CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css"
  rel="stylesheet"
/>
<div
  id="calendar"
  style="
    width: 90%;
    max-width: 800px;
    margin: 20px auto;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    height: 600px;
  "
></div>

<!-- FullCalendar Bundle (core + plugins + locales) -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Gera JSON seguro a partir da lista events do Flask
    var eventos = {{ events | tojson | safe }};

    new FullCalendar.Calendar(document.getElementById("calendar"), {
      initialView: "dayGridMonth",
      locale: "pt-br",
      events: eventos
    }).render();
  });
</script>

{% endblock %}
